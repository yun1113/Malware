{#<nav class="navbar navbar-inverse navbar-fixed-top">#}
{#    <div class="container">#}
{#        <div class="navbar-header">#}
{#            <a class="nav-title" href="/malwareupload">Dynamic Malware Behavior Profiling and Analysis System</a>#}
{#        </div>#}
{#    </div>#}
{#</nav>#}

<!-- Version 1 -->

{#        <nav class="navbar navbar-inverse navbar-fixed-top navbar_banner">#}
{#            <div class="container">#}
{#                <div class="navbar-header">#}
{#                    <a class="nav-title" href="/malwareupload">Dynamic Malware Behavior <br>Profiling and Analysis System</a>#}
{#                </div>#}
{#            </div>#}
{#        </nav>#}


<!-- Version 2 -->
{#    <div class="navbar twoRow navbar-inverse">#}
{#        <div class="container">#}
{#            <!-- Header -->#}
{#            <div class="row ">#}
{#            <div class="navbar  navbar-header">#}
{#                <button type="button" class="navbar-toggle"#}
{#                        data-toggle="collapse"#}
{#                        data-target=".navbar-collapse">#}
{#                    <span class="icon-bar"></span>#}
{#                    <span class="icon-bar"></span>#}
{#                    <span class="icon-bar"></span>#}
{#                        <span class="icon-bar"></span>#}
{#                        <span class="icon-bar"></span>#}
{#                </button>#}
{#                <a class="nav-title" href="/malwareupload">Dynamic Malware Behavior <br>Profiling and Analysis System</a>#}
{#            </div>#}
{#                </div>#}
{#            <div class="row">#}
{#            <!-- Navbar Links -->#}
{#            <div class="collapse navbar-collapse">#}
{#                <ul class="nav navbar-nav">#}
{#                        <li class="active"><a href="#">Home</a></li>#}
{#                        <li><a href="#">Service</a></li>#}
{#                        <li><a href="#">About Us</a></li>#}
{#                        <li><a href="#">Solutions</a></li>#}
{#                        <li><a href="#">Question</a></li>#}
{#                </ul>#}
{#            </div>#}
{#                </div>#}
{#        </div>#}
{#    </div>#}

<!-- Version 3 -->
{#<nav class="navbar navbar-inverse navbar-fixed-top" id="nav" role="navigation">#}
{#    <div class="container-fluid">#}
{#        <div class="row">#}
{#            <div class="col-md-1 col-xs-2"><img id="logo_img" src="{% static 'image/logo2.png' %}"></div>#}
{#            <div class="col-md-4 col-xs-4"><a class="nav-title" href="/malwareupload">Dynamic&nbsp&nbspMalware&nbsp&nbspBehavior <br>Profiling&nbsp&nbspand&nbsp&nbspAnalysis&nbsp&nbspService</a>#}
{#            </div>#}
{#        </div>#}
{#    </div>#}
{#</nav>#}
{#<nav class="navbar navbar-inverse2 nav2" role="navigation">#}
{#    <div class="container-fluid"id="navbar">#}
{#        <!-- Brand and toggle get grouped for better mobile display -->#}
{#        <div class="navbar-header">#}
{#            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">#}
{#                <span class="sr-only">Toggle navigation</span>#}
{#                <span class="icon-bar"></span>#}
{#                <span class="icon-bar"></span>#}
{#                <span class="icon-bar"></span>#}
{#                <span class="icon-bar"></span>#}
{#            </button>#}
{#        </div>#}
{##}
{#        <!-- Collect the nav links, forms, and other content for toggling -->#}
{#        <div class="collapse navbar-collapse">#}
{#            <ul class="nav navbar-nav">#}
{#                <li class="active"><a href="/malwareupload/" style="padding: 0px 15px 0px 15px;"><img src="{% static 'image/home2.png' %}" style="height:55px; padding: 10px 0px 15px 0px;" ></a></li>#}
{#                <li><a href="#">Service</a></li>#}
{#                <li><a href="#">About Us</a></li>#}
{#                <li><a href="#">Solutions</a></li>#}
{#                <li><a href="#">Question</a></li>#}
{#            </ul>#}
{#        </div><!-- /.navbar-collapse -->#}
{#    </div><!-- /.container-fluid -->#}
{#</nav>#}

{% load static %}

<!-- div for picture and title -->
<div id="navimg" class="container-fluid img-responsive">
  <img src="{% static 'image/logo4.png' %}" class="img-responsive img-circle" alt="Responsive image">
  <a id="nav-title">Dynamic Malware Behavior <br>Profiling and Analysis System</a>
</div>
<!-- /div for picture and title -->

<!-- navbar -->
<nav class="navbar navbar-default navbar-static-top" data-spy="affix" data-offset-top="97">
  <ul class="nav navbar-nav">
    <li><a href="/malwareupload"><i class="fa fa-home fa-fw fa-lg" aria-hidden="true"></i>&nbsp; Home</a></li>
    <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#"><i class="fa fa-file-code-o fa-lg" aria-hidden="true"></i>&nbsp; Service <span class="caret"></span></a>
      <ul class="dropdown-menu">
        <li><a href="#PROFILING">HIGH LEVEL MALWARE PROFILING</a></li>
        <li><a href="#ANALYSIS">COMMON BEHAVIOR MOTIF ANALYSIS OF A MALWARE FAMILY</a></li>
      </ul>
    </li>
    <li><a href="#"><i class="fa fa-users fa-lg" aria-hidden="true"></i>&nbsp; About Us</a></li>
    <li><a href="#"><i class="fa fa-lightbulb-o fa-lg" aria-hidden="true"></i>&nbsp; Solutions</a></li>
    <li><a href="#"><i class="fa fa-question-circle fa-lg" aria-hidden="true"></i>&nbsp; Question</a></li>
  </ul>
  <ul class="nav navbar-nav" style="float: right;">
    {% if request.user.is_authenticated %}
      <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#"><i class="fa fa-user-circle-o fa-lg" aria-hidden="true"></i>&nbsp; {{request.user}} <span class="caret"></span></a>
{#        <ul class="dropdown-menu">#}
          <li><a href="/logout/"><i class="fa fa-hand-o-right" aria-hidden="true"></i> Logout</a></li>
        </ul>
      </li>
    {% else %}
      <li><a id="login" href="#"><i class="fa fa-sign-in fa-lg" aria-hidden="true"></i>&nbsp; Login</a></li>
      <li><a id="signup" href="#"><i class="fa fa-user-plus fa-lg" aria-hidden="true"></i>&nbsp; Signup</a></li>
    {% endif %}
  </ul>
</nav>
<!-- /navbar -->

<!-- Modal -->
<style>
.modal{
    position: fixed;
    padding-top: 100px;
    overflow: auto;
    background-color: rgb(0,0,0);
    background-color: rgba(0,0,0,0.4);
    display: none;
    width: 100%;
    height: 100%;
}
.modal-content{
    position: relative;
    margin: auto;
    padding: 0;
    border: 1px solid #888888;
    width: 100%;
    height: 100%;

}
.modal-header{
    background-color: #ffe4c4;

}
.close{
    color: black;
    float: right;
    font-size: 35px;
    font-weight: bold;
}
.modal-body{
    font-size: 14px;
    background-color: #ffe4c4;
}
</style>
  <div class="modal fade nav-form" id="login_dialog" style="display: none;">
    <div class="modal-dialog">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
           <h1 class="modal-title" style="color: darkblue;font-size: 45px;text-shadow: 1px 1px 1px white"><b>Login</b></h1>
        </div>
        <div class="modal-body">

       <style>
        form#a{
            margin-right: auto;
            margin-left: auto;
            max-width: 500px;
            padding: 25px 15px 25px 10px;
            text-shadow: 1px 1px 1px #fff;

        }
        form label#a{
            width: 20%;
            text-align: right;
            padding-right: 10px;
            font-size: 20px;
            float: left;
            margin:8px 10px 5px 5px ;
            color: black;
        }

        form input#b {
            padding: 1px 3px 3px 6px;
            border: 1px solid #dadada;
            width: 50%;
            height: 30px;
            line-height: 15px;
            margin: 10px 6px 16px 120px;
            outline: none;
            font-size: 12px;
        }
        form input.a  {
           background-color: cadetblue;
            color: white;
            padding: 5px 15px 5px 15px;
            border: none;
            cursor: pointer;
            border-radius: 3px;
            text-shadow: 1px 1px 1px gray;
            font-size: 18px;
            text-align: center;
            width: 50px;
            margin-right: 400px;
        }
        form input.a:hover{
           background-color: palevioletred;
            font-size: 20px;
        }
        form input#a  {
            padding: 1px 3px 3px 5px;
            border: 1px solid #dadada;
            width: 70%;
            height: 30px;
            line-height: 15px;
            margin: 2px 6px 16px 2px;
            outline: none;
            font-size: 12px;
            text-align: left;
        }
        form label#b{
            width: 20%;
            text-align: center;
            padding-right: 10px;
            font-size: 18px;
            float: left;
            margin:1px 35px 5px 5px ;
            color: black;
        }
        p#a{
            font-size: 16px;
            color: black;
        }
        p#b{
            font-size: 15px;
            text-align: left;

        }
        p#b:hover{
            font-size: 16px;
            color: rebeccapurple;
        }
        p#c{
            font-size: 20px;
            margin-top: 10px;
        }

       </style>

          <form id="a" role="form" action="/login/" method="post" id="login-form" autocomplete="off">
            {% csrf_token %}
            {% for field in login_form %}
              {% if field.id_for_label|lower == 'id_username' %}
                <label id="a" for="id_username">Username: </label>
                <input id="b" type="text" class="form-control input-lg login_box"
                   name="{{ field.html_name }}" placeholder='Username' required autofocus>
                   {{ login_form.username.errors }}
              {% elif field.id_for_label|lower == 'id_password' %}<br>
                  <label id="a" for="id_password">Password: </label>
                  <input id="b" class="form-control input-lg login_box" type="password" name="{{ field.html_name }}" placeholder='Password' required>
                  {{ login_form.password1.errors }}
              {% endif %}
            {% endfor %}
            <p>{{ login_form.non_field_errors }}</p>
            <p id="b"><a  href="#" data-toggle="modal" data-target="#forgetpwd"><i class="fa fa-hand-o-right" aria-hidden="true"></i><b> Forget Password</b></a></p>
          <label>
              <span>&nbsp;</span>
            <input class="a"  type="submit" name="log-in" value="Submit">
              </label>
          <div class="modal-footer">
              <p id="c">Don't have an account yet?<a id="newaccount" href="#"> Sign Up</a></p>
              </div>
{#              {% if login_form.errors %}#}
{#               <p>Your username and password didn't match. Please try again.</p>#}
{#              {% endif %}#}
          </form>
        </div>
      </div>
    </div>
  </div>

<!-- Modal -->
  <div class="modal fade nav-form" id="signup_dialog" style="display: none;">
    <div class="modal-dialog">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
             <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h1 class="modal-title" style="color: darkblue;font-size: 45px;text-shadow: 1px 1px 1px white"><b>Sign Up</b></h1><br>
            <p id="a">You may create an account on our website. We will measure the amount of malware samples you submit to reward your contributions by rapid responses of analysis results.</p>
        </div>
        <div class="modal-body">
          <form id="a" role="form" action="/register/" method="post" id="signup-form" autocomplete="off">
            {% csrf_token %}
            {% for field in signup_form %}
              {% if field.id_for_label|lower == 'id_username' %}
                <label id="b" for="id_username">Username:</label>
                <input id="a" type="text" class="form-control input-lg login_box"
                   name="{{ field.html_name }}" placeholder='Username' required autofocus>
                   {{ signup_form.username.errors }}
              {% elif field.id_for_label|lower == 'id_email' %}
                <label id="b" for="id_email">EmailAddress:</label>
                <input id="a" type="email" class="form-control input-lg login_box"
                   name="{{ field.html_name }}" placeholder='Email Address' required autofocus>
                   {{ signup_form.email.errors }}

              {% elif field.id_for_label|lower == 'id_password1' %}
                  <label id="b" for="id_password1">Password:</label>
                  <input id="a" class="form-control input-lg login_box" type="password" name="{{ field.html_name }}" placeholder='combination of at least 8 numbers and letters' required>
              {% elif field.id_for_label|lower == 'id_password2' %}
                  <label id="b" for="id_password2">ConfirmAgain:</label>
                  <input id="a" class="form-control input-lg login_box" type="password" name="{{ field.html_name }}" placeholder='Confirm Password' required>
                  {{ signup_form.password2.errors }}
              {% endif %}
            {% endfor %}
          <p>{{ signup_form.non_field_errors }}</p>
           <br> <input  id="signup-btn" type="submit" name="sign-up" class="a" value="Submit">
          </form>
        </div>
      </div>
    </div>
  </div>


{#{% if state == 'signup_success' %}#}
{#<!-- Modal -->#}
{##}
{#  <div class="modal" style="display: block;" id="id01" >#}
{#    <div class="modal-dialog">#}
{#      <!-- Modal content-->#}
{#      <div class="modal-content">#}
{#        <div class="modal-header">#}
{#            <h1 class="modal-title" style="color: darkblue;font-size: 45px;text-shadow: 1px 1px 1px white"><b>Signup Success</b></h1><br>#}
{#            <p  style="color: green;font-size: 28px ;text-align: center">Welcome to Dynamic Malware Behavior Profiling and Analysis System</p>#}
{##}
{#        </div>#}
{#        <div class="modal-body">#}
{#          <button id="aa" type="button" class="btn btn-default" data-dismiss="modal" onclick="document.getElementById('id01').style.display='none'" style="float: right">Close</button>#}
{#        <br><br><br><br>#}
{#        </div>#}
{#      </div>#}
{#    </div>#}
{#  </div>#}
{##}
{#{% endif %}#}
{##}
{#{% if state == 'signup_fail' %}#}
{#<!-- Modal -->#}
{##}
{#  <div class="modal" style="display: block;" id="id01" >#}
{#    <div class="modal-dialog">#}
{#      <!-- Modal content-->#}
{#      <div class="modal-content">#}
{#        <div class="modal-header">#}
{#            <h1 class="modal-title" style="color: red;font-size: 45px;text-shadow: 1px 1px 1px white"><b>Signup Failed</b></h1><br>#}
{#            <p  style="color: black;font-size: 30px ;text-align: center">Please check all your information correct.</p>#}
{##}
{#        </div>#}
{#        <div class="modal-body">#}
{#          <button id="aa" type="button" class="btn btn-default" data-dismiss="modal" onclick="document.getElementById('id01').style.display='none'" style="float: right">Close</button>#}
{#        <br><br><br><br>#}
{#        </div>#}
{#      </div>#}
{#    </div>#}
{#  </div>#}
{##}
{#{% endif %}#}
{##}
{#{% if state == 'login_success' %}#}
{#<!-- Modal -->#}
{#  <div class="modal" style="display: block" id="id02">#}
{#    <div class="modal-dialog">#}
{#      <!-- Modal content-->#}
{#      <div class="modal-content">#}
{#          <div class="modal-header" style="border-bottom: 1px solid lightgreygrey; padding-bottom: 16px;" >#}
{#            <h1 class="modal-title" style="color: darkblue;font-size: 48px;text-shadow: 1px 1px 1px white"><b>Welcome</b></h1><br>#}
{#            <p  style="color: green;font-size: 30px;text-align: center;margin-right: 30px ">You have successfully logged in.</p>#}
{#        </div>#}
{#        <div class="modal-body ">#}
{#          <button id="aa" type="button" class="btn btn-default" data-dismiss="modal" onclick="document.getElementById('id02').style.display='none'" style="float: right">Close</button>#}
{#        <br><br><br><br>#}
{#        </div>#}
{#      </div>#}
{#    </div>#}
{#  </div>#}
{#{% endif %}#}
{##}
{#{% if state == 'login_fail' %}#}
{# <!-- Modal -->#}
{#<div class="modal" style="display: block;" id="id03">#}
{#<div class="modal-dialog">#}
{#  <!-- Modal content-->#}
{#  <div class="modal-content">#}
{#    <div class="modal-header" style="border-bottom: 2px solid grey; padding-bottom: 16px;" >#}
{#        <h1 class="modal-title" style="color: red;font-size: 48px;text-shadow: 1px 1px 1px white;"><b>Login Failed</b></h1><br><br>#}
{#        <p id="ab"><b>Don't have an account yet?<a id="newaccount2" href="#" onclick="document.getElementById('id03').style.display='none'">   Sign Up</a></b></p>#}
{#    </div>#}
{#    <div class="modal-body">#}
{#      <button type="button" id="ab" class="btn btn-default" data-dismiss="modal" onclick="document.getElementById('id03').style.display='none'" ><b>OK</b></button>#}
{#    </div>#}
{#  </div>#}
{#</div>#}
{#</div>#}
{#{% endif %}#}

<style>
    p#ab{
        font-size: 25px;
        text-align: center;
        margin-right: 30px;
    }
    button#ab{
        float: inherit;
        margin-left: 170px;
        background-color:cadetblue;
        color:whitesmoke;
        margin-bottom: 40px;
        width: 40%;
        height: 30%;
        font-size: 18px;
        margin-top: 20px;
    }
    button#ab:hover{
        background-color: palevioletred;
        font-size: 20px;
    }
    button#aa{
        float: left;
        margin-left: 0px;
        background-color:cadetblue;
        color:whitesmoke;
        margin-bottom: 80px;
        width: 30%;
        height: 20%;
        font-size: 20px;
        margin-right: 190px;
        margin-top: 15px;

    }
    button#aa:hover{
        background-color: palevioletred;
        font-size: 22px;
    }
    </style>

<script>

    {% if login_fail %}
        window.onload=function(){
            $('#login_dialog').modal('show');
        }
    {% endif %}

    {% if signup_fail %}
        window.onload=function(){
            $('#signup_dialog').modal('show');
        }
    {% endif %}

    $('#login').on('click', function(){
        $('#login_dialog').modal('show');
    });
    $('#signup').on('click', function(){
        $('#signup_dialog').modal('show');
    });
    $('#newaccount').on('click', function(){
        $('#signup_dialog').modal('show');
        $('#login_dialog').modal('hide');
    });
     $('#newaccount2').on('click', function(){
        $('#signup_dialog').modal('show');
    });
</script>
